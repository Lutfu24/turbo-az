<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./src/output.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>Document</title>
  </head>
  <body class="dark:bg-black">
    <header>
      <div class="h-[35px] flex justify-center items-center">
        <div class="w-[60%] flex justify-between">
          <ul class="flex gap-5 text-gray-400">
            <li class="hover:text-red-500">
              <a
                class="cursor-context-menu"
                href="https://tap.az/?utm_source=turboaz&utm_medium=desktop-nav&utm_campaign=only-logo#_gl=1*1klfjv2*_ga*NTIwODcyMzYzLjE3MzMwNzI1Njg.*_ga_68B6PJZXYD*czE3NTM3OTAxODgkbzMkZzEkdDE3NTM3OTAyMDkkajM5JGwwJGgw"
                target="_blank"
                >Tap.az</a
              >
            </li>
            <li class="hover:text-red-500">
              <a
                class="cursor-context-menu"
                href="https://bina.az/?utm_source=turboaz&utm_medium=desktop-nav&utm_campaign=only-logo"
                target="_blank"
                >Bina.az</a
              >
            </li>
            <li class="hover:text-red-500">
              <a
                class="cursor-context-menu"
                href="https://boss.az/?utm_source=turboaz&utm_medium=desktop-nav&utm_campaign=only-logo#_gl=1*s4hp1i*_ga*NTIwODcyMzYzLjE3MzMwNzI1Njg.*_ga_68B6PJZXYD*czE3NTM3OTAxODgkbzMkZzEkdDE3NTM3OTAyMDkkajM5JGwwJGgw"
                target="_blank"
                >Boss.az</a
              >
            </li>
          </ul>
          <ul class="flex gap-5">
            <li>
              Dəstək:
              <a href="#" class="cursor-context-menu hover:text-red-500"
                >(012) 526-47-47</a
              >
            </li>
            <li class="text-gray-400 hover:text-red-500 cursor-context-menu">
              Yardım
            </li>
            <li class="text-gray-400 hover:text-red-500 cursor-context-menu">
              RU
            </li>
            <li class="text-gray-400 hover:text-red-500 cursor-context-menu">
              <i class="fa fa-heart" aria-hidden="true"></i> Seçilmişlər
            </li>
            <li class="text-gray-400 hover:text-red-500 cursor-context-menu">
              <i class="fa fa-user-circle" aria-hidden="true"></i> Giriş
            </li>
          </ul>
        </div>
      </div>
      <div class="h-[50px] flex justify-center items-center bg-red-700">
        <div class="w-[60%] flex justify-between items-center">
          <p class="uppercase font-bold text-white">
            <a href="./index.html">turbo.az</a>
          </p>
          <ul class="flex gap-4 text-white">
            <li>Bütün elanlar</li>
            <li>Dilerlər</li>
            <li>Avtokataloq</li>
            <li>Moto</li>
            <li>Ehtiyat hissələr və aksesuarlar</li>
            <li>İcarə</li>
          </ul>
          <button
            class="w-[100px] h-[35px] rounded-[5px] text-white bg-green-400 hover:bg-green-500"
          >
            <i class="fa-solid fa-plus"></i>
            Yeni elan
          </button>
        </div>
      </div>
    </header>

    <section class="flex justify-center items-start h-[100vh]">
      <div
        id="wish"
        class="w-[60%] flex items-start flex-wrap gap-5 bg-gray-50"
      ></div>
    </section>
    <script src="./data.js"></script>
    <script>
      const wish = document.getElementById("wish");
      let wishArr = JSON.parse(localStorage.getItem("id"));
      const data = JSON.parse(localStorage.getItem("data")) || data;

      function getData() {
        wishArr.forEach((curr) => {
          let finddata = data.filter((item) => item.id == curr);
          finddata.forEach((item) => {
            wish.innerHTML += `<div class="relative w-[23%] rounded-md bg-white mt-3 h-[300px]">
                        <a href="./detail.html?id=${item.id}" target="_blank">
                        <img src="${item.images[0]}" class="w-full object-cover rounded-t-md h-[160px]" />
                        <h1 class="font-bold ml-2 mt-2">${item.price} ${item.currency}</h1>
                        <p class="ml-2 mt-2">${item.brand} ${item.model}</p>
                        <p class="ml-2 mt-2">${item.year}, ${item.engine} L, ${item.odometer} km</p>
                        <a id="wish" onclick="removeWishList(event)" class="absolute text-white font-extralight top-1 right-1 text-2xl" target="_blank"><i class="fa-solid fa-heart text-red-600" data-id="${item.id}"></i>
                        </a>
                        </a>
                        </div>`;
          });
        });
        if (wish.innerHTML == "") {
          wish.innerHTML = `<h1 class="font-bold text-2xl text-red-600 mt-2">Seçilmişlər boşdur</h1>`;
          wish.style.display = "flex";
          wish.style.justifyContent = "center";
          wish.style.backgroundColor = "white";
        }
      }

      getData();

      function removeWishList(e) {
        const id = e.target.getAttribute("data-id");
        wishArr = wishArr.filter((item) => item !== id);
        localStorage.setItem("id", JSON.stringify(wishArr));
        wish.innerHTML = "";
        getData();
      }
    </script>
  </body>
</html>
